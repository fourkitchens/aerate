<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="sift 0.0.1" />
    <meta name="description" content="Sift results for 9/1/2017" />

    <title>Sift</title>

    <link rel="stylesheet" href="mapper/sift/css/style.css" media="all" />
    <link type="text/css" rel="stylesheet" href="node_modules/britecharts/dist/css/britecharts.min.css">
  </head>
  <body>
    <h1>Sift</h1>
    <div class="content">
      <ul class="menu">
        <li><a href="#summary">Summary</a></li>
        <li><a href="#charts">Charts</a></li>
        <li><a href="#optimisations">Optimisations</a></li>
      </ul>

      <div class="js-horizontal-bar-chart-container"></div>
      <div class="hidden">
        <code>
            <!-- 
              <a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">1,093</a>
             -->
        </code>
      </div>
      <section id="summary">
        <h2>Summary</h2>

        <table cellspacing="0" cellpadding="0">
          <caption class="visually-hidden">Performance data</caption>
          <colgroup>
            <col />
          </colgroup>
          <colgroup>
            <col /><col /><col /><col /><col /><col /><col />
          </colgroup>
          <colgroup>
            <col /><col />
          </colgroup>
          <thead>
            <tr>
              <th />
              <th colspan="7" scope="colgroup">First view</th>
              <th colspan="2" scope="colgroup">Repeat view</th>
            </tr>
            <tr>
              <th scope="col">Page</th>
              <th scope="col">Speed index</th>
              <th scope="col">First byte</th>
              <th scope="col">Start render</th>
              <th scope="col">Load</th>
              <th scope="col">Bytes</th>
              <th scope="col">Requests</th>
              <th scope="col">Connections</th>
              <th scope="col">Speed index</th>
              <th scope="col">Load</th>
            </tr>
          </thead>
          <tfoot>
            <tr>
              <th />
              <th colspan="20" scope="col">
                  Times are in milliseconds
                  and are the median values
                  from 1 runs
                  in WebPageTest.
                  The test location was Dulles,
                  the connection was <code>Native Connection</code>
                  and the browser was Chrome.
                  All measurements were taken
                  between 2:42:23 PM
                  and 2:42:53 PM on 9/1/2017.
              </th>
            </tr>
          </tfoot>
          <tbody>
            <tr class="table-row-budget">
              <th scope="row">Budget</th>
              <td></td><!-- speedindex -->
              <td></td><!-- firstbyte -->
              <td></td><!-- startrender -->
              <td></td><!-- load -->
              <td></td><!-- bytes -->
              <td></td><!-- requests -->
              <td></td><!-- connections -->
              <td>N/A</td><!-- blank -->
              <td>N/A</td><!-- blank -->
            </tr>

                        <tr class="table-row-home">
                  <th scope="row"><a href="http://www.fourkitchens.com/">Four Kitchens</a></th>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">1,105</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">387</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">1,093</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">2,240</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">593,991</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">24</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1">10</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1&amp;cached=1">1,102</a></td>
                            <td><a href="http://www.webpagetest.org/details.php?test=170901_6K_1NPH&amp;run=1&amp;cached=1">1,447</a></td>
                        </tr>
                    </tbody>
        </table>

        <p>
          Care should be taken
          when making comparisons
          between the figures
          for different pages,
          since each page contains
          a different amount of data
          and requires
          a different amount of work.
          Nonetheless,
          some comparisons can be made.
        </p>
      </section>

      <section id="charts">
        <h2>Charts</h2>

                <section>
              <h3>Speed index, first view</h3>
              <svg width="832px" height="63px">
                  <title>Speed index, first view</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">1,105</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">First-view speed index (lower is better)</text>
                      </g>
                        </g>
              </svg>
              <svg width="832px" height="63px">
                  <title>Speed index, first view as RTTs</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">34</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">First-view speed index as a function of RTT</text>
                      </g>
                        </g>
              </svg>
                </section>
                <section>
              <h3>Speed index, repeat view</h3>
              <svg width="832px" height="63px">
                  <title>Speed index, repeat view</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">1,102</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Repeat-view speed index (lower is better)</text>
                      </g>
                        </g>
              </svg>
              <svg width="832px" height="63px">
                  <title>Speed index, repeat-view improvement</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">100%</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Repeat-view speed index as a percentage of first-view</text>
                      </g>
                        </g>
              </svg>
                </section>
                <section>
              <h3>First byte</h3>
              <svg width="832px" height="63px">
                  <title>First byte in milliseconds</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">387</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Time to first byte (milliseconds)</text>
                      </g>
                        </g>
              </svg>
              <svg width="832px" height="63px">
                  <title>First byte in RTTs</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692.00px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692.00px" dx="-4px" dy="6px" class="chart-label chart-bar-label">12</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Time to first byte (RTTs)</text>
                      </g>
                        </g>
              </svg>
                </section>
                <section>
              <h3>Start render, difference from first byte</h3>
              <svg width="832px" height="63px">
                  <title>Start render, difference from first byte in milliseconds</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">706</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Time from first byte until start render (milliseconds)</text>
                      </g>
                        </g>
              </svg>
              <svg width="832px" height="63px">
                  <title>Start render, difference from first byte in RTTs</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">22</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Time from first byte until start render (RTTs)</text>
                      </g>
                        </g>
              </svg>
                </section>
                <section>
              <h3>Load, difference from first byte</h3>
              <svg width="832px" height="63px">
                  <title>Load, difference from first byte in milliseconds</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">1,853</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Time from first byte until load event (milliseconds)</text>
                      </g>
                        </g>
              </svg>
              <svg width="832px" height="63px">
                  <title>Load, difference from first byte in RTTs</title>

                  <g transform="translate(140, 0)">
                      <line x1="-3px" y1="0" x2="-3px" y2="36px" class="chart-axis" />
                      <g transform="translate(0, 0)">
                          <title>Four Kitchens</title>
                          <rect width="692px" height="32px" class="chart-bar chart-bar-home" />
                          <g transform="translate(0, 16)">
                              <text text-anchor="end" x="692px" dx="-4px" dy="6px" class="chart-label chart-bar-label">56</text>
                              <text x="-140px" dy="6px" class="chart-label">Four Kitchens</text>
                          </g>
                      </g>
                            <g transform="translate(-2, 35)">
                          <line x1="0" y1="0" x2="694px" y2="0" class="chart-axis" />
                          <text text-anchor="middle" x="347" dy="24px" class="chart-label">Time from first byte until load event (RTTs)</text>
                      </g>
                        </g>
              </svg>
                </section>
            </section>

      <section id="optimisations">
        <h2>Optimisations</h2>

        <table cellspacing="0" cellpadding="0">
          <caption class="visually-hidden">Performance optimisations</caption>
            <thead>
              <tr>
                <th scope="col">Page</th>
                <th scope="col">First byte</th>
                <th scope="col">Persistent connections</th>
                <th scope="col">GZIP compression</th>
                <th scope="col">Image compression</th>
                <th scope="col">Progressive JPEGs</th>
                <th scope="col">Browser caching</th>
                <th scope="col">Asset CDN</th>
              </tr>
            </thead>
            <tbody>
                        <tr class="table-row-home">
                      <th scope="row"><a href="http://www.fourkitchens.com/">Four Kitchens</a></th>
                            <td class="table-data-okay"><a href="http://www.webpagetest.org/performance_optimization.php?test=170901_6K_1NPH&amp;run=1#first_byte_time">71%</a></td>
                            <td class="table-data-good"><a href="http://www.webpagetest.org/performance_optimization.php?test=170901_6K_1NPH&amp;run=1#keep_alive_enabled">100%</a></td>
                            <td class="table-data-good"><a href="http://www.webpagetest.org/performance_optimization.php?test=170901_6K_1NPH&amp;run=1#compress_text">100%</a></td>
                            <td class="table-data-good"><a href="http://www.webpagetest.org/performance_optimization.php?test=170901_6K_1NPH&amp;run=1#compress_images">100%</a></td>
                            <td class="table-data-good"><a href="http://www.webpagetest.org/performance_optimization.php?test=170901_6K_1NPH&amp;run=1#progressive_jpeg">n/a</a></td>
                            <td class="table-data-okay"><a href="http://www.webpagetest.org/performance_optimization.php?test=170901_6K_1NPH&amp;run=1#cache_static_content">57%</a></td>
                            <td class="table-data-good"><a href="http://www.webpagetest.org/performance_optimization.php?test=170901_6K_1NPH&amp;run=1#use_of_cdn">94%</a></td>
                        </tr>
                    </tbody>
          </table>
      </section>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/britecharts/2.0.0/bundled/britecharts.min.js"></script>
    <script>
    function createHorizontalBarChart() {
      let tooltip = new britecharts.miniTooltip();
      let barChart = new britecharts.bar(),
          margin = {
            left: 80,
            right: 20,
            top: 20,
            bottom: 30
          },
          barContainer = d3.select('.js-horizontal-bar-chart-container'),
          containerWidth = barContainer.node() ? barContainer.node().getBoundingClientRect().width : false;

      if (containerWidth) {
        barChart
           .isHorizontal(true)
           .margin(margin)
           .width(containerWidth)
           .colorSchema(britecharts.colors.colorSchemas.britecharts)
           .valueLabel('percentage')
           .isAnimated(true)
           .percentageAxisToMaxRatio(1.3)
           .height(300)
           .on('customMouseOver', tooltip.show)
           .on('customMouseMove', tooltip.update)
           .on('customMouseOut', tooltip.hide);

        barContainer.datum([{"percentage":1093,"name":"render"},{"percentage":2240,"name":"loadTime"}]).call(barChart);
      }

      tooltipContainer = d3.select('.bar-chart .metadata-group');
      tooltipContainer.datum([]).call(tooltip);

      // Responsive
      const redrawChart = () => {
          let container = d3.select('.js-horizontal-bar-chart-container');
          let newContainerWidth = container.node() ? container.node().getBoundingClientRect().width : false;

          // Setting the new width on the chart
          barChart.width(newContainerWidth);

          // Rendering the chart again
          container.datum([{"percentage":1093,"name":"render"},{"percentage":2240,"name":"loadTime"}]).call(barChart);
      };

      window.addEventListener("resize", redrawChart);
    }
    createHorizontalBarChart();
    </script>
  </body>
</html>
